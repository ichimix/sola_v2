"use strict";function _classCallCheck(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,n){for(var t=0;t<n.length;t++){var i=n[t];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function _createClass(e,n,t){return n&&_defineProperties(e.prototype,n),t&&_defineProperties(e,t),e}var SiteInit=function(){function r(){var t=this,e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};_classCallCheck(this,r);var n={menuBtn:"#menuBtn",menu:"#menu",anchorIgnore:".noscroll",sa:".anm"},i=.2*window.innerHeight;this.easing=function(e,n,t,i){return t*(.5-Math.cos(e/i*Math.PI)/2)+n},this.selectors=n,this.selectors.menuBtn=("menuBtn"in e?e:n).menuBtn,this.selectors.menu=("menu"in e?e:n).menu,this.selectors.anchorIgnore=("anchorIgnore"in e?e:n).anchorIgnore,this.selectors.sa=("sa"in e?e:n).sa,this.anchorSpeed="anchorSpeed"in e?e.anchorSpeed:300,this.saMargin="saMargin"in e?e.saMargin:i,this.flags="flags"in e?e.flags:null,this.scrollElm="scrollingElement"in document?document.scrollingElement:-1!=navigator.userAgent.indexOf("WebKit")?document.body:document.documentElement,this.menuBtn=document.querySelector(this.selectors.menuBtn),this.menu=document.querySelector(this.selectors.menu);var o=document.querySelectorAll('a[href^="#"]:not('+this.anchorIgnore+")");if(0<o.length)for(var s=0;s<o.length;s++)!function(e){var n=o[e];n.addEventListener("click",function(e){e.preventDefault(),t.anchorScroll(n.getAttribute("href")),t.menuBtn&&t.menuClose()},!1)}(s);this.menuBtn&&this.menuBtn.addEventListener("click",function(e){t.menuToggle(e)},!1),this.saInit()}return _createClass(r,[{key:"anchorScroll",value:function(e){var i,o,s,r=this,a="#"===e?document.querySelector("html"):document.querySelector(e);a&&(i=Date.now(),o=this.scrollElm.scrollTop,s=this.anchorSpeed,function e(){var n=a.getBoundingClientRect().top+r.scrollElm.scrollTop-o,t=Date.now()-i;t<s?(scrollTo(0,r.easing(t,o,n,s)),window.requestAnimationFrame(e)):scrollTo(0,n+o)}())}},{key:"menuToggle",value:function(){this.menu.classList.contains("show")?this.menuClose():this.menuOpen()}},{key:"menuOpen",value:function(){this.menu.classList.add("show"),this.menuBtn.classList.add("on")}},{key:"menuClose",value:function(){this.menu.classList.remove("show"),this.menuBtn.classList.remove("on")}},{key:"setFlag",value:function(e,n){this.flags[e]=n}},{key:"getFlag",value:function(e){return this.flags[e]}},{key:"saInit",value:function(){var r=this,e=document.querySelectorAll(this.selectors.sa);if(0===e.length)return!1;for(var t=[],n=0;e.length>n;n++)t[n]=function(e){function n(){e.classList.add("show"),t=!1}var t=!0,i=(e.getBoundingClientRect().top,e.getAttribute("data-delay")),o=e.getAttribute("data-trigger"),s=o?document.querySelector(o):e;return function(){t&&(s.getBoundingClientRect().top<window.innerHeight-r.saMargin||e.classList.contains("animation_afterLoad"))&&(i?setTimeout(function(){n()},i):n())}}(e[n]);function i(e){for(var n=0;t.length>n;n++)t[n]()}window.addEventListener("load",i),window.addEventListener("scroll",i)}}]),r}(),siteInit=new SiteInit;
//# sourceMappingURL=maps/common.js.map
